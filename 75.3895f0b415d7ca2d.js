"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[75],{2726:(pe,z,w)=>{w.d(z,{Uw:()=>G,fo:()=>J});var p=w(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var U=function(c){return c.Unimplemented="UNIMPLEMENTED",c.Unavailable="UNAVAILABLE",c}(U||{});class $ extends Error{constructor(r,a,u){super(r),this.message=r,this.code=a,this.data=u}}const Q=c=>{var r,a,u,d,i;const l=c.CapacitorCustomPlatform||null,o=c.Capacitor||{},t=o.Plugins=o.Plugins||{},n=c.CapacitorPlatforms,m=(null===(r=null==n?void 0:n.currentPlatform)||void 0===r?void 0:r.getPlatform)||(()=>null!==l?l.name:(c=>{var r,a;return null!=c&&c.androidBridge?"android":null!==(a=null===(r=null==c?void 0:c.webkit)||void 0===r?void 0:r.messageHandlers)&&void 0!==a&&a.bridge?"ios":"web"})(c)),b=(null===(a=null==n?void 0:n.currentPlatform)||void 0===a?void 0:a.isNativePlatform)||(()=>"web"!==m()),q=(null===(u=null==n?void 0:n.currentPlatform)||void 0===u?void 0:u.isPluginAvailable)||(h=>{const v=k.get(h);return!!(null!=v&&v.platforms.has(m())||O(h))}),O=(null===(d=null==n?void 0:n.currentPlatform)||void 0===d?void 0:d.getPluginHeader)||(h=>{var v;return null===(v=o.PluginHeaders)||void 0===v?void 0:v.find(j=>j.name===h)}),k=new Map,_e=(null===(i=null==n?void 0:n.currentPlatform)||void 0===i?void 0:i.registerPlugin)||((h,v={})=>{const j=k.get(h);if(j)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),j.proxy;const B=m(),D=O(h);let I;const ve=function(){var P=(0,p.Z)(function*(){return!I&&B in v?I=I="function"==typeof v[B]?yield v[B]():v[B]:null!==l&&!I&&"web"in v&&(I=I="function"==typeof v.web?yield v.web():v.web),I});return function(){return P.apply(this,arguments)}}(),re=P=>{let C;const M=(...S)=>{const H=ve().then(T=>{const L=((P,C)=>{var M,S;if(!D){if(P)return null===(S=P[C])||void 0===S?void 0:S.bind(P);throw new $(`"${h}" plugin is not implemented on ${B}`,U.Unimplemented)}{const H=null==D?void 0:D.methods.find(T=>C===T.name);if(H)return"promise"===H.rtype?T=>o.nativePromise(h,C.toString(),T):(T,L)=>o.nativeCallback(h,C.toString(),T,L);if(P)return null===(M=P[C])||void 0===M?void 0:M.bind(P)}})(T,P);if(L){const Y=L(...S);return C=null==Y?void 0:Y.remove,Y}throw new $(`"${h}.${P}()" is not implemented on ${B}`,U.Unimplemented)});return"addListener"===P&&(H.remove=(0,p.Z)(function*(){return C()})),H};return M.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:P,writable:!1,configurable:!1}),M},fe=re("addListener"),ge=re("removeListener"),Pe=(P,C)=>{const M=fe({eventName:P},C),S=function(){var T=(0,p.Z)(function*(){const L=yield M;ge({eventName:P,callbackId:L},C)});return function(){return T.apply(this,arguments)}}(),H=new Promise(T=>M.then(()=>T({remove:S})));return H.remove=(0,p.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield S()}),H},ae=new Proxy({},{get(P,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?Pe:fe;case"removeListener":return ge;default:return re(C)}}});return t[h]=ae,k.set(h,{name:h,proxy:ae,platforms:new Set([...Object.keys(v),...D?[B]:[]])}),ae});return o.convertFileSrc||(o.convertFileSrc=h=>h),o.getPlatform=m,o.handleError=h=>c.console.error(h),o.isNativePlatform=b,o.isPluginAvailable=q,o.pluginMethodNoop=(h,v,j)=>Promise.reject(`${j} does not have an implementation of "${v}".`),o.registerPlugin=_e,o.Exception=$,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},E=(c=>c.Capacitor=Q(c))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),J=E.registerPlugin;class G{constructor(r){this.listeners={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,a){var u=this;this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(a);const i=this.windowListeners[r];i&&!i.registered&&this.addWindowListener(i);const l=function(){var t=(0,p.Z)(function*(){return u.removeListener(r,a)});return function(){return t.apply(this,arguments)}}(),o=Promise.resolve({remove:l});return Object.defineProperty(o,"remove",{value:(t=(0,p.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield l()}),function(){return t.apply(this,arguments)})}),o;var t}removeAllListeners(){var r=this;return(0,p.Z)(function*(){r.listeners={};for(const a in r.windowListeners)r.removeWindowListener(r.windowListeners[a]);r.windowListeners={}})()}notifyListeners(r,a){const u=this.listeners[r];u&&u.forEach(d=>d(a))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,a){this.windowListeners[a]={registered:!1,windowEventName:r,pluginEventName:a,handler:u=>{this.notifyListeners(a,u)}}}unimplemented(r="not implemented"){return new E.Exception(r,U.Unimplemented)}unavailable(r="not available"){return new E.Exception(r,U.Unavailable)}removeListener(r,a){var u=this;return(0,p.Z)(function*(){const d=u.listeners[r];if(!d)return;const i=d.indexOf(a);u.listeners[r].splice(i,1),u.listeners[r].length||u.removeWindowListener(u.windowListeners[r])})()}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}}const K=c=>encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),V=c=>c.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class X extends G{getCookies(){return(0,p.Z)(function*(){const r=document.cookie,a={};return r.split(";").forEach(u=>{if(u.length<=0)return;let[d,i]=u.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");d=V(d).trim(),i=V(i).trim(),a[d]=i}),a})()}setCookie(r){return(0,p.Z)(function*(){try{const a=K(r.key),u=K(r.value),d=`; expires=${(r.expires||"").replace("expires=","")}`,i=(r.path||"/").replace("path=",""),l=null!=r.url&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${a}=${u||""}${d}; path=${i}; ${l};`}catch(a){return Promise.reject(a)}})()}deleteCookie(r){return(0,p.Z)(function*(){try{document.cookie=`${r.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}})()}clearCookies(){return(0,p.Z)(function*(){try{const r=document.cookie.split(";")||[];for(const a of r)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(r){return Promise.reject(r)}})()}clearAllCookies(){var r=this;return(0,p.Z)(function*(){try{yield r.clearCookies()}catch(a){return Promise.reject(a)}})()}}J("CapacitorCookies",{web:()=>new X});const ee=function(){var c=(0,p.Z)(function*(r){return new Promise((a,u)=>{const d=new FileReader;d.onload=()=>{const i=d.result;a(i.indexOf(",")>=0?i.split(",")[1]:i)},d.onerror=i=>u(i),d.readAsDataURL(r)})});return function(a){return c.apply(this,arguments)}}();class oe extends G{request(r){return(0,p.Z)(function*(){const a=((c,r={})=>{const a=Object.assign({method:c.method||"GET",headers:c.headers},r),d=((c={})=>{const r=Object.keys(c);return Object.keys(c).map(d=>d.toLocaleLowerCase()).reduce((d,i,l)=>(d[i]=c[r[l]],d),{})})(c.headers)["content-type"]||"";if("string"==typeof c.data)a.body=c.data;else if(d.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[l,o]of Object.entries(c.data||{}))i.set(l,o);a.body=i.toString()}else if(d.includes("multipart/form-data")||c.data instanceof FormData){const i=new FormData;if(c.data instanceof FormData)c.data.forEach((o,t)=>{i.append(t,o)});else for(const o of Object.keys(c.data))i.append(o,c.data[o]);a.body=i;const l=new Headers(a.headers);l.delete("content-type"),a.headers=l}else(d.includes("application/json")||"object"==typeof c.data)&&(a.body=JSON.stringify(c.data));return a})(r,r.webFetchExtra),u=((c,r=!0)=>c?Object.entries(c).reduce((u,d)=>{const[i,l]=d;let o,t;return Array.isArray(l)?(t="",l.forEach(n=>{o=r?encodeURIComponent(n):n,t+=`${i}=${o}&`}),t.slice(0,-1)):(o=r?encodeURIComponent(l):l,t=`${i}=${o}`),`${u}&${t}`},"").substr(1):null)(r.params,r.shouldEncodeUrlParams),d=u?`${r.url}?${u}`:r.url,i=yield fetch(d,a),l=i.headers.get("content-type")||"";let t,n,{responseType:o="text"}=i.ok?r:{};switch(l.includes("application/json")&&(o="json"),o){case"arraybuffer":case"blob":n=yield i.blob(),t=yield ee(n);break;case"json":t=yield i.json();break;default:t=yield i.text()}const s={};return i.headers.forEach((m,g)=>{s[g]=m}),{data:t,headers:s,status:i.status,url:i.url}})()}get(r){var a=this;return(0,p.Z)(function*(){return a.request(Object.assign(Object.assign({},r),{method:"GET"}))})()}post(r){var a=this;return(0,p.Z)(function*(){return a.request(Object.assign(Object.assign({},r),{method:"POST"}))})()}put(r){var a=this;return(0,p.Z)(function*(){return a.request(Object.assign(Object.assign({},r),{method:"PUT"}))})()}patch(r){var a=this;return(0,p.Z)(function*(){return a.request(Object.assign(Object.assign({},r),{method:"PATCH"}))})()}delete(r){var a=this;return(0,p.Z)(function*(){return a.request(Object.assign(Object.assign({},r),{method:"DELETE"}))})()}}J("CapacitorHttp",{web:()=>new oe})},75:(pe,z,w)=>{w.r(z),w.d(z,{HomePage:()=>d});var p=w(5861),e=w(9212),f=w(7897),A=w(6814);function F(i){function l(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var t=o.done;return Promise.resolve(o.value).then(function(n){return{value:n,done:t}})}return(F=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return l(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):l(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):l(n.apply(this.s,arguments))}},new F(i)}class R{static comparador(l,o){let t=l.from,n=o.from;return t||n?n?t?t<n?-1:t>n?1:0:1:-1:0}static validarRelacion(l){return l&&l.mal_id&&l.mal_id>0}}class U{static getBaseDeDatos(){return(0,p.Z)(function*(){return new Promise((l,o)=>{try{let t=indexedDB.open("magallanes",2);t.onsuccess=()=>{l(t.result)},t.onerror=n=>{o(n)},t.onupgradeneeded=()=>{let n=t.result;n.objectStoreNames.contains("animes")?l(n):n.createObjectStore("animes",{keyPath:"id"})}}catch(t){o(t)}})})()}}var $=w(9862);const N="https://api.jikan.moe/v4";let Q=(()=>{var i;class l{constructor(t){this.http=t,this.obtenidos=new Map}buscarAnime(t){return this.http.get(`${N}/anime`,{params:t})}obtenerAnimeCompleto(t){return this.http.get(`${N}/anime/${t}/full`)}mapearAnime(t){var n,s,m,g,b,_;return{id:t.mal_id,title:t.title,image:null===(n=t.images)||void 0===n||null===(n=n.jpg)||void 0===n?void 0:n.image_url,type:t.type,episodes:t.episodes,status:t.status,airing:t.airing,score:t.score,from:null!==(s=t.aired)&&void 0!==s&&s.from?new Date(null===(m=t.aired)||void 0===m?void 0:m.from):null,to:null!==(g=t.aired)&&void 0!==g&&g.to?new Date(null===(b=t.aired)||void 0===b?void 0:b.to):null,relations:null!==(_=t.relations)&&void 0!==_?_:[],url:t.url}}anadirRelaciones(t,n){let s=[];if(t){let m=["Adaptation"];m.push(...n),t.filter(g=>!m.includes(g.relation)).forEach(g=>{for(let _ of null!==(b=null==g?void 0:g.entry)&&void 0!==b?b:[]){var b;R.validarRelacion(_)&&"anime"===_.type&&!this.obtenidos.has(_.mal_id)&&(this.obtenidos.set(_.mal_id,_),s.push(_))}})}return s}consulta(t){var n=this;return(0,p.Z)(function*(){return new Promise((s,m)=>{try{n.baseDeDatos&&t?n.baseDeDatos.transaction("animes").objectStore("animes").get(t).onsuccess=g=>{var b;let _=null==g||null===(b=g.target)||void 0===b?void 0:b.result;s(_)}:m()}catch(g){m(g)}})})()}guardar(t){var n=this;return(0,p.Z)(function*(){return new Promise((s,m)=>{try{n.baseDeDatos?(n.baseDeDatos.transaction(["animes"],"readwrite").objectStore("animes").put(t),s()):m()}catch{m()}})})()}sagase(t,n,s,m){var g=this;return(0,p.Z)(function*(){let b=t.mal_id;g.baseDeDatos||(g.baseDeDatos=yield U.getBaseDeDatos());let _=yield g.consulta(b);return new Promise(_?function(){var q=(0,p.Z)(function*(y,O){try{yield g.manejarAnime(_,n,s,m),y()}catch(x){O(x)}});return function(y,O){return q.apply(this,arguments)}}():(q,y)=>setTimeout((0,p.Z)(function*(){var O;g.obtenerAnimeCompleto(b).subscribe({next:(O=(0,p.Z)(function*(x){if(m&&m.cancelar)y("B\xfasqueda cancelada");else{let Z=g.mapearAnime(null==x?void 0:x.data);if(Z){Z.to&&Z.to<new Date&&g.guardar(Z);try{yield g.manejarAnime(Z,n,s,m),q()}catch(k){y(k)}}else y()}}),function(Z){return O.apply(this,arguments)}),error:O=>{y(O)}})}),1e3))})()}manejarAnime(t,n,s,m){var g=this;return(0,p.Z)(function*(){s.push(t),s.sort(R.comparador);let _=g.anadirRelaciones(t.relations,n);var O,q=!1,y=!1;try{for(var Z,x=function se(i){var l,o,t,n=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,t=Symbol.iterator);n--;){if(o&&null!=(l=i[o]))return l.call(i);if(t&&null!=(l=i[t]))return new F(l.call(i));o="@@asyncIterator",t="@@iterator"}throw new TypeError("Object is not async iterable")}(_);q=!(Z=yield x.next()).done;q=!1){let k=Z.value;yield g.sagase(k,n,s,m)}}catch(k){y=!0,O=k}finally{try{q&&null!=x.return&&(yield x.return())}finally{if(y)throw O}}})()}}return(i=l).\u0275fac=function(t){return new(t||i)(e.LFG($.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),l})();const le=["barraBusqueda"],E=["botonFiltro"];function J(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"ion-item",14),e.NdJ("click",function(){const s=e.CHM(o).$implicit,m=e.oxw(2);return e.KtG(m.seleccionarAnime(s))}),e.TgZ(1,"ion-avatar",15),e._UZ(2,"img",16),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&i){const o=l.$implicit;e.Q6J("button",!0),e.xp6(2),e.Q6J("src",o.image,e.LSH),e.xp6(2),e.Oqu(o.title)}}function ce(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"ion-row",0)(1,"ion-col",9)(2,"div",10)(3,"ion-content",11)(4,"ion-list",0),e.YNc(5,J,5,3,"ion-item",12),e.qZA(),e.TgZ(6,"ion-infinite-scroll",13),e.NdJ("ionInfinite",function(n){e.CHM(o);const s=e.oxw();return e.KtG(s.onIonInfinite(n))}),e._UZ(7,"ion-infinite-scroll-content"),e.qZA()()()()()}if(2&i){const o=e.oxw();e.xp6(5),e.Q6J("ngForOf",o.items)}}let ue=(()=>{var i;class l{constructor(t){this.animeService=t,this.alSeleccionar=new e.vpe,this.alAbrirFiltro=new e.vpe,this.items=[],this.pagina=1,this.busqueda="",this.timeoutInput=null,this.seleccionado=null}ngOnInit(){}generateItems(){this.animeService.buscarAnime({q:this.busqueda,limit:25,page:this.pagina++}).subscribe(t=>{t.data.forEach(n=>{let s=this.animeService.mapearAnime(n);this.items.push(s)})})}onIonInfinite(t){this.generateItems(),setTimeout(()=>{t.target.complete()},1e3)}buscar(t){var n;this.pagina=1,this.busqueda=null==t||null===(n=t.detail)||void 0===n?void 0:n.value,this.timeoutInput&&clearTimeout(this.timeoutInput),this.timeoutInput=setTimeout(()=>{this.items=[],this.busqueda&&this.generateItems()},333)}seleccionarAnime(t){this.limpiar();let n=t.id;n&&this.animeService.obtenerAnimeCompleto(n).subscribe(s=>{let m=null==s?void 0:s.data;m&&(this.seleccionado=this.animeService.mapearAnime(m),this.alSeleccionar.emit(this.seleccionado))})}mostrarFiltro(){this.alAbrirFiltro.emit()}limpiar(){this.barraBusqueda.value="",this.busqueda="",this.items=[],this.pagina=1,this.timeoutInput=null}}return(i=l).\u0275fac=function(t){return new(t||i)(e.Y36(Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-buscador"]],viewQuery:function(t,n){if(1&t&&(e.Gf(le,5),e.Gf(E,7)),2&t){let s;e.iGM(s=e.CRH())&&(n.barraBusqueda=s.first),e.iGM(s=e.CRH())&&(n.botonFiltro=s.first)}},outputs:{alSeleccionar:"alSeleccionar",alAbrirFiltro:"alAbrirFiltro"},standalone:!0,features:[e.jDz],decls:10,vars:1,consts:[[1,"ion-no-padding","ion-no-margin"],["size","10"],["placeholder","Buscar anime",3,"ionInput"],["barraBusqueda",""],["size","2"],["fill","clear","shape","circle",3,"click"],["botonFiltro",""],["slot","icon-only","src","assets/icon/filter.svg"],["class","ion-no-padding ion-no-margin",4,"ngIf"],["size","12"],[1,"contenedorscroll"],[1,"contenidoscroll",2,"height","100%"],[3,"button","click",4,"ngFor","ngForOf"],[3,"ionInfinite"],[3,"button","click"],["slot","start"],["alt","avatar",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-grid",0)(1,"ion-row",0)(2,"ion-col",1)(3,"ion-searchbar",2,3),e.NdJ("ionInput",function(m){return n.buscar(m)}),e.qZA()(),e.TgZ(5,"ion-col",4)(6,"ion-button",5,6),e.NdJ("click",function(){return n.mostrarFiltro()}),e._UZ(8,"ion-icon",7),e.qZA()()(),e.YNc(9,ce,8,1,"ion-row",8),e.qZA()),2&t&&(e.xp6(9),e.Q6J("ngIf",n.busqueda))},dependencies:[f.VI,f.W2,f.ju,f.q_,f.BJ,f.Q$,f.Ie,f.MB,f.YG,f.gu,f.jY,f.Nd,f.wI,A.ez,A.sg,A.O5],styles:[".contenedorscroll[_ngcontent-%COMP%]{min-height:250px;max-height:500px;height:60vh;width:100%;z-index:997;position:absolute}.contenidoscroll[_ngcontent-%COMP%]{height:100%}ion-button[shape=circle][_ngcontent-%COMP%]{--border-radius: 50%;width:56px;height:56px}"]}),l})(),G=(()=>{var i;class l{constructor(){this.alClicar=new e.vpe,this.openCapacitorSite=t=>{t&&this.alClicar.emit(t)}}ngOnInit(){}}return(i=l).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-anime"]],inputs:{anime:"anime",indice:"indice"},outputs:{alClicar:"alClicar"},standalone:!0,features:[e.jDz],decls:51,vars:16,consts:[[1,"itemPadre",3,"button","click"],[1,"contenedorIndice","negrita","col-centrada"],[1,"ion-no-padding"],[2,"min-height","100px"],["size-xs","3","size-xl","1",1,"colImagen"],["alt","avatar",1,"imganime",3,"src"],["size-xs","9","size-xl","11"],["size","12"],[1,"contenedorTitulo"],["size","3"],[1,"contenedorDatos","ion-text-end"],[1,"contenedorDatos","negrita"],["size","6"],[1,"contenedorDatos"],[1,"negrita"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-item",0),e.NdJ("click",function(){return n.openCapacitorSite(null==n.anime?null:n.anime.url)}),e.TgZ(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"ion-grid",2)(4,"ion-row",3)(5,"ion-col",4),e._UZ(6,"img",5),e.qZA(),e.TgZ(7,"ion-col",6)(8,"ion-grid",2)(9,"ion-row")(10,"ion-col",7)(11,"div",8),e._uU(12),e.qZA()()(),e.TgZ(13,"ion-row")(14,"ion-col",9)(15,"div",10),e._uU(16,"Tipo: "),e.qZA()(),e.TgZ(17,"ion-col",9)(18,"div",11),e._uU(19),e.qZA()(),e.TgZ(20,"ion-col",12)(21,"div",13),e._uU(22,"F.inicio: "),e.TgZ(23,"span",14),e._uU(24),e.ALo(25,"date"),e.qZA()()()(),e.TgZ(26,"ion-row")(27,"ion-col",9)(28,"div",10),e._uU(29,"Ep.: "),e.qZA()(),e.TgZ(30,"ion-col",9)(31,"div",11),e._uU(32),e.qZA()(),e.TgZ(33,"ion-col",12)(34,"div",13),e._uU(35,"F.fin: "),e.TgZ(36,"span",14),e._uU(37),e.ALo(38,"date"),e.qZA()()()(),e.TgZ(39,"ion-row")(40,"ion-col",9)(41,"div",10),e._uU(42,"Nota: "),e.qZA()(),e.TgZ(43,"ion-col",9)(44,"div",11),e._uU(45),e.qZA()(),e.TgZ(46,"ion-col",12)(47,"div",13),e._uU(48,"Estado: "),e.TgZ(49,"span",14),e._uU(50),e.qZA()()()()()()()()()),2&t&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(n.indice),e.xp6(4),e.Q6J("src",null==n.anime?null:n.anime.image,e.LSH),e.xp6(6),e.Oqu(null==n.anime?null:n.anime.title),e.xp6(7),e.Oqu(null==n.anime?null:n.anime.type),e.xp6(5),e.Oqu(e.xi3(25,10,null==n.anime?null:n.anime.from,"dd/MM/yyyy")),e.xp6(8),e.Oqu(null==n.anime?null:n.anime.episodes),e.xp6(5),e.Oqu(e.xi3(38,13,null==n.anime?null:n.anime.to,"dd/MM/yyyy")),e.xp6(8),e.Oqu(null==n.anime?null:n.anime.score),e.xp6(5),e.Oqu(null==n.anime?null:n.anime.status))},dependencies:[f.Ie,f.jY,f.Nd,f.wI,A.uU],styles:["ion-avatar[_ngcontent-%COMP%]{--border-radius: 4px}.col-centrada[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;align-items:center}ion-badge[_ngcontent-%COMP%]{font-size:1.5em}ion-avatar[_ngcontent-%COMP%]{height:100%;width:100%}.imganime[_ngcontent-%COMP%]{height:100%;object-fit:cover}.contenedorTitulo[_ngcontent-%COMP%]{text-align:center;font-weight:700;margin-top:.5em;margin-bottom:.5em}.contenedorIndice[_ngcontent-%COMP%]{width:7.5%}.negrita[_ngcontent-%COMP%]{font-weight:700}.contenedorDatos[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:5px}@media screen and (max-width: 450px){.colImagen[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{height:55%!important}}.itemPadre[_ngcontent-%COMP%]{--padding-start: 0}"]}),l})();var W=w(95);const V=(0,w(2726).fo)("Browser",{web:()=>w.e(671).then(w.bind(w,3671)).then(i=>new i.BrowserWeb)}),X=["tarjetaOpciones"],de=["checkResumenes"],ee=["checkOtros"],te=["checkCharacter"],ne=["toastAviso"];function ie(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"ion-card",10,11)(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Filtro"),e.qZA(),e.TgZ(5,"ion-card-subtitle"),e._uU(6,"OMITIR:"),e.qZA()(),e.TgZ(7,"ion-card-content")(8,"ion-grid")(9,"ion-row")(10,"ion-col",12)(11,"ion-checkbox",13,14),e.NdJ("ngModelChange",function(n){e.CHM(o);const s=e.oxw();return e.KtG(s.summary=n)}),e._uU(13,"Res\xfamenes"),e.qZA()()(),e.TgZ(14,"ion-row")(15,"ion-col",12)(16,"ion-checkbox",13,15),e.NdJ("ngModelChange",function(n){e.CHM(o);const s=e.oxw();return e.KtG(s.other=n)}),e._uU(18,"Otros"),e.qZA()()(),e.TgZ(19,"ion-row")(20,"ion-col",12)(21,"ion-checkbox",13,16),e.NdJ("ngModelChange",function(n){e.CHM(o);const s=e.oxw();return e.KtG(s.character=n)}),e._uU(23,"Character"),e.qZA()()()()()()}if(2&i){const o=e.oxw();e.xp6(11),e.Q6J("ngModel",o.summary),e.xp6(5),e.Q6J("ngModel",o.other),e.xp6(5),e.Q6J("ngModel",o.character)}}function oe(i,l){1&i&&(e.TgZ(0,"ion-row")(1,"ion-col",17),e._UZ(2,"ion-progress-bar",18),e.qZA()())}function me(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"ion-button",26),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2);return e.KtG(n.cancelarBusqueda())}),e._uU(1,"Cancelar"),e.qZA()}}function c(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"ion-button",26),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2);return e.KtG(n.limpiarTodo())}),e._uU(1,"Limpiar"),e.qZA()}}function r(i,l){if(1&i){const o=e.EpF();e.TgZ(0,"app-anime",27),e.NdJ("alClicar",function(n){e.CHM(o);const s=e.oxw(2);return e.KtG(s.abrirNavegador(n))}),e.qZA()}if(2&i){const o=l.$implicit;e.Q6J("indice",l.index+1)("anime",o)}}function a(i,l){if(1&i&&(e.TgZ(0,"ion-row")(1,"ion-col",19)(2,"ion-item")(3,"ion-grid")(4,"ion-row")(5,"ion-col",20),e._uU(6),e.qZA(),e.TgZ(7,"ion-col",21),e.YNc(8,me,2,0,"ion-button",22)(9,c,2,0,"ion-button",22),e.qZA()()()(),e.TgZ(10,"ion-content",23)(11,"ion-list",24),e.YNc(12,r,1,2,"app-anime",25),e.qZA()()()()),2&i){const o=e.oxw();e.xp6(6),e.hij("Cap\xedtulos: ",o.getCapitulosTotales(),""),e.xp6(2),e.Q6J("ngIf",o.barraProgreso),e.xp6(),e.Q6J("ngIf",!o.barraProgreso&&o.animes),e.xp6(),e.Q6J("scrollEvents",!0),e.xp6(2),e.Q6J("ngForOf",o.animes)}}const u=i=>({fondoOpciones:i});let d=(()=>{var i;class l{setOpen(t){this.isToastOpen=t}setAlertOpen(t){this.isAlertOpen=t}get filtros(){let t=[];return this.summary&&t.push("Summary"),this.other&&t.push("Other"),this.character&&t.push("Character"),t}constructor(t){var s,n=this;this.animeService=t,this.animes=[],this.filtroVisible=!1,this.barraProgreso=!1,this.isToastOpen=!1,this.isAlertOpen=!1,this.alertButtons=[{text:"No",role:"cancel",handler:()=>{}},{text:"S\xed",role:"confirm",handler:(s=(0,p.Z)(function*(){yield V.open({url:n.urlParaAbrir}),n.urlParaAbrir=void 0}),function(){return s.apply(this,arguments)})}],this.summary=!1,this.other=!1,this.character=!1,this.controladorBusqueda={cancelar:!1}}ver(t){let n={mal_id:t.id,url:t.url,type:"",name:""};this.animes=[],this.animeService.obtenidos.clear(),this.animeService.obtenidos.set(n.mal_id,n),this.barraProgreso=!0,this.controladorBusqueda.cancelar=!1,this.animeService.sagase(n,this.filtros,this.animes,this.controladorBusqueda).then(()=>{this.barraProgreso=!1,this.isToastOpen=!0,this.toastAviso.message="Se han encontrado "+this.animes.length+" resultados"}).catch(s=>{console.error(s),this.barraProgreso=!1,this.isToastOpen=!0,this.toastAviso.message=null!=s?s:"Ha ocurrido un error; int\xe9ntelo de nuevo m\xe1s adelante."})}mostrarFiltro(){this.filtroVisible=!this.filtroVisible}abrirNavegador(t){var n=this;return(0,p.Z)(function*(){n.urlParaAbrir=t,n.isAlertOpen=!0})()}onGlobalClick(t){this.filtroVisible&&(this.tarjetaOpciones.nativeElement.contains(t.target)||(this.filtroVisible=!1))}getCapitulosTotales(){return this.animes?this.animes.map(t=>t.episodes).reduce((t,n)=>t+n,0):0}cancelarBusqueda(){this.controladorBusqueda.cancelar=!0}limpiarTodo(){this.animes=[]}}return(i=l).\u0275fac=function(t){return new(t||i)(e.Y36(Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],viewQuery:function(t,n){if(1&t&&(e.Gf(X,5,e.SBq),e.Gf(de,5),e.Gf(ee,5),e.Gf(te,5),e.Gf(ne,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.tarjetaOpciones=s.first),e.iGM(s=e.CRH())&&(n.checkResumenes=s.first),e.iGM(s=e.CRH())&&(n.checkOtros=s.first),e.iGM(s=e.CRH())&&(n.checkCharacter=s.first),e.iGM(s=e.CRH())&&(n.toastAviso=s.first)}},hostBindings:function(t,n){1&t&&e.NdJ("mousedown",function(m){return n.onGlobalClick(m)},!1,e.evT)},standalone:!0,features:[e.jDz],decls:11,vars:10,consts:[[1,"ion-no-margin"],[1,"barraSuperior"],["size-xs","12","size-sm","10"],[3,"alSeleccionar","alAbrirFiltro"],[3,"ngClass"],["class","cardOpciones ion-no-margin",4,"ngIf"],[4,"ngIf"],[3,"isOpen","duration","didDismiss"],["toastAviso",""],["header","Abrir enlace","message","Se va a abrir un enlace externo; \xbfdesea continuar?",3,"isOpen","buttons","didDismiss"],[1,"cardOpciones","ion-no-margin"],["tarjetaOpciones",""],["size","6","offset","1"],["labelPlacement","end",3,"ngModel","ngModelChange"],["checkResumenes",""],["checkOtros",""],["checkCharacter",""],["size","12"],["type","indeterminate"],["size-xs","12","size-sm","8","offset-sm","2",1,"contentScroll"],["size","6",1,"flexTextoCentradoVerticalmente"],["size","6"],["class","ion-float-right","shape","round",3,"click",4,"ngIf"],[3,"scrollEvents"],[1,"ion-no-padding"],[3,"indice","anime","alClicar",4,"ngFor","ngForOf"],["shape","round",1,"ion-float-right",3,"click"],[3,"indice","anime","alClicar"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-grid",0)(1,"ion-row",1)(2,"ion-col",2)(3,"app-buscador",3),e.NdJ("alSeleccionar",function(m){return n.ver(m)})("alAbrirFiltro",function(){return n.mostrarFiltro()}),e.qZA(),e._UZ(4,"div",4),e.YNc(5,ie,24,3,"ion-card",5),e.qZA()(),e.YNc(6,oe,3,0,"ion-row",6)(7,a,13,5,"ion-row",6),e.qZA(),e.TgZ(8,"ion-toast",7,8),e.NdJ("didDismiss",function(){return n.setOpen(!1)}),e.qZA(),e.TgZ(10,"ion-alert",9),e.NdJ("didDismiss",function(){return n.setAlertOpen(!1)}),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngClass",e.VKq(8,u,n.filtroVisible)),e.xp6(),e.Q6J("ngIf",n.filtroVisible),e.xp6(),e.Q6J("ngIf",n.barraProgreso),e.xp6(),e.Q6J("ngIf",null!=n.animes&&n.animes.length>0),e.xp6(),e.Q6J("isOpen",n.isToastOpen)("duration",5e3),e.xp6(2),e.Q6J("isOpen",n.isAlertOpen)("buttons",n.alertButtons))},dependencies:[f.Ge,f.Px,f.X7,f.W2,ue,G,f.jY,f.Nd,f.wI,f.q_,f.Ie,f.YG,f.PM,f.FN,f.Zi,f.Dq,f.tO,f.nz,A.ez,A.mk,A.sg,A.O5,W.u5,W.JJ,W.On],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.cardOpciones[_ngcontent-%COMP%]{z-index:999;position:absolute;right:0;width:300px}@media screen and (max-width: 600px){.cardOpciones[_ngcontent-%COMP%]{position:fixed;width:80vw;height:210px;top:calc((100% - 210px)/2);left:10vw;right:10vw}.fondoOpciones[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:998;background:#d3d3d3;opacity:.5}}.barraSuperior[_ngcontent-%COMP%]{height:75px}.contentScroll[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 90px)}.contentScroll[_ngcontent-%COMP%] > ion-item[_ngcontent-%COMP%]{height:50px}.contentScroll[_ngcontent-%COMP%] > ion-content[_ngcontent-%COMP%]{height:calc(100% - 50px)}.flexTextoCentradoVerticalmente[_ngcontent-%COMP%]{display:flex;align-items:center}ion-list[_ngcontent-%COMP%]:last-child{margin-bottom:100px}"]}),l})()}}]);